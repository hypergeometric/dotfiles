#!/bin/bash
shopt -s extglob

npm ls -gp | awk -F/ '/node_modules/ && !/node_modules.*node_modules/ {print $NF}' | grep -vE '^npm$' | xargs npm -g rm
rm -rf /usr/local/lib/node_modules/!(npm)

packages=(
  babel-cli
  bower
  cordova
  cut-release
  gulp-cli
  iondrive
  ionic
  ios-deploy
  ios-sim
  n
  npm-check-updates
  phantomjs-prebuilt
  react-native-cli
  typescript
  typings
  webpack
)

npm i -g ${packages[@]}
